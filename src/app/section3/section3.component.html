<audio #adivinaAudio autoplay loop src="assets/audio/adivinanza.mp3" type="audio/mp3">
    Your browser does not support the <code>audio</code> element.
</audio>


<button (click)="volver()">Volver al lobby</button>

<div class="riddle-game">
    @if (gamestart) {
        <h2>Camino la mente de Revelacion de Akala</h2>
        <img src="assets/adivina.jpg" alt="Imagen 1" class="card-image" />
        <div class="rules">
            <h3>Reglas del Juego</h3>
            <ul>
              <li>Esta es mi prueba, encuentra la respuesta a todas las incognitas.</li>
              <li>Si fallas tres veces debes volver a comenzar.</li>
              <li>El juego termina cuando todas las respuestas sean encontradas, Si logras pasar la prueba te dare mi bendicion y los numeros.
              </li>
            </ul>
          </div>
        @if (!gameOver && !gameLost) {
            <div class="riddle">
                <h3>{{ riddles[currentRiddleIndex].question }}</h3>
                <div class="options">
                    @for (option of riddles[currentRiddleIndex].options; track $index) {
                        <button (click)="checkAnswer(option)">
                            {{ option }}
                        </button>
                    }
                </div>
                @if (riddles[currentRiddleIndex].playerAnswer) {
                    <p>
                        Respuesta: {{ riddles[currentRiddleIndex].playerAnswer === riddles[currentRiddleIndex].correctAnswer ? 'Correcta' : 'Incorrecta' }}
                    </p>
                }
    
            </div>
        }
    
        @if (gameLost) {
            <div class=".game-won">
                <p>Has perdido</p>
                <h3>La iluminacion no es lo tuyo Â¿a que no?.</h3>
                <button (click)="restartGame()">Reiniciar juego</button>
            </div>
        }
    
        @if (gameOver && !gameLost) {
            <div class=".game-won">
                <audio #happyAudio autoplay src="assets/audio/paf.mp3" type="audio/mp3">
                    Your browser does not support the <code>audio</code> element.
                </audio>
                <h3>Bien... bien.. miserable humana, mis numeros son 232 y aqui esta mi bendicion, ahora ve a ver a Utenhope y sacanos a todos de aqui</h3>
                <button (click)="restartGame()">Reiniciar juego</button>
            </div>
        }
    }

    @if (!gamestart) {
        <div class="quiz-container">
            <img src="assets/adivina.jpg" class="card-image" />
            <div class="card-body">
              <h2>Akala, La Despierta</h2>
              <p>{{ smugDialog[currentDialog] }}</p>
              
              <button class="btn" (click)="startGame()">
                {{ dialogOptions[currentDialog] }}
              </button>
            </div>
          </div>
    }
  
</div>